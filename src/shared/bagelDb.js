import Bagel from '@bageldb/bagel-db'
let API_TOKEN = "eyJhbGciOiJSUzI1NiIsImtpZCI6ImFwaS1rZXkiLCJ0eXAiOiJKV1QifQ.eyJvcmdhbml6YXRpb25JRCI6ImMwNXYzdWEyM2FrZzAwYm8ydWZnIiwicHJvamVjdElEIjoiYzA1djRnMjIzYWtnMDBibzJ1ajAiLCJhdWQiOiJodHRwczovL2FwcC5iYWdlbGRiLmNvbSIsImp0aSI6IjhjNTA3Nzc2LWY5MTItNDkxMS04MGJhLWYxZGFjMGVkNDJlOCIsImlzcyI6Imh0dHBzOi8vYXV0aGVudGljYXRpb24uYmFnZWxkYi5jbyIsInN1YiI6ImMwNXY0ZzIyM2FrZzAwYm8ydWowIn0.XqA5iToLP59NXpQ11TEt_in-wrAmVsI7FUpgZWCRLgH6occDDLi1M3ebCXaq4gs8ENiVtEgfGp74nQZ0XDrnIE2T5op4v6PgX-rIDvg2AFR0xe70BhsNSIFdVn7i5CecCGA734Xvi1x08cbWDTO4YuGLzL49J8fFhKo2vmoQxmBRdHl5scl-KECB8WPkDH1lysoEuTMfgXT_JiM75zzH4j_PAB5kLnzRB5kYxshJFy_nok1DXXCLYcbE41WkrVi29NKMSR1ApJ1yceawdOLy7DfdSVy8Llq85ncNGwpXpVU8t_Tz3SEpZgy3pBOqodJbMCi5m4xCw1SPRirTpxFeE0n61G8hK2aOqEwb2DRFjrpgNfAoe9WG4gR8PfUN3-iZswmla8uXqFXUci1Jzgbtr6_Sv4N-5ICRHQBm0-MwXIFVMmt2Im_C2Avi2uyZb-QBElweZuHcEfjrm2DBjzbWJUvqjb0GJWbloVGc5pwrENKIbBVoiUYfB-ESRqyZLmRFnns_48fR9wI0k0UMCfDEvhvaur94RQZPJ3z2ekGDFnAE4QnMXfYpKTX49LiHRnGw-5hdJ8WeWeL7crcoKq4_oKvvq4TiVs2vQWamZUj5V3KaGCFMTXrLzLxj2jlDvWieJG7jpRACOG1qcjR4z3TNDpH0e0yj9EwAGRW5TViXOkk"
let db = new Bagel(API_TOKEN)


let intergration = {};
const integrate = async(collection) => {
    if(intergration[collection] == undefined){
        const res = await db.collection(collection).get()
        intergration[collection] = res.data.map((item) => item.value);
    } 
    return intergration[collection]
}


export {db,integrate}